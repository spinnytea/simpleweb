<!DOCTYPE html>
<html>
<head>
	<title>Quilts</title>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"
		integrity="sha256-ngFW3UnAN0Tnm76mDuu7uUtYEcG3G5H1+zioJw3t+68="
		crossorigin="anonymous"></script>

	<link href="quilts.css" rel="stylesheet">
</head>
<body>
<div class="container">

	<div id="input">
		<p><strong>square size</strong> <input type="number" min="0.5" max="6" step="0.25" v-model="squareSize" /></p>
		<!-- NOTE the algorithm for drawing cannot handle rotations larger than ~45 degrees (values approach infinity at 90 degrees, breaks at 90; 60 is probably OK) -->
		<!-- TODO globalOffsetR change to radio options -45, 0, 45 -->
		<p><strong>r</strong> <input type="number" min="-0.8" max="0.8" step="0.1" v-model="globalOffsetR" v-on:change="update" /></p>
		<p><strong>x</strong> <input type="range" min="-10" max="10" step="0.1" v-model="globalOffsetX" v-on:change="update" /></p>
		<p><strong>y</strong> <input type="range" min="-10" max="10" step="0.1" v-model="globalOffsetY" v-on:change="update" /></p>
		<p><strong>zoom</strong> <input type="range" min="1" max="30" step="1" v-model="zoom" /></p>

		<!-- TODO svg input to update texture -->
	</div>

	<svg v-bind:width="svgWidth" v-bind:height="svgHeight" v-bind:view-box.camel="viewBox">
		<g>
			<g v-for="m in mesh">
				<path v-for="path in m.paths"
					v-bind:d="path.d" v-bind:fill="path.fill" />
			</g>
		</g>
		<rect x="-0.25" y="-0.25" v-bind:width="quiltWidth+0.5" v-bind:height="quiltHeight+0.5" class="quiltEdge" />
	</svg>

	<div id="metrics">
		<dl>
			<dt>final square size</dt> <dd><span v-text="squareSize"></span> inches</dd>
			<dt>final width</dt> <dd><span v-text="quiltWidth"></span> inches</dd>
			<dt>final height</dt> <dd><span v-text="quiltHeight"></span> inches</dd>
			<dt>cut square size</dt> <dd><span v-text="cutSize"></span> inches</dd>
		</dl>
	</div>
</div>
<script src="quilts.js"></script>
</body>
</html>